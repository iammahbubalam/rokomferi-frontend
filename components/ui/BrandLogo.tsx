"use client";

import { motion } from "framer-motion";

interface BrandLogoProps {
  className?: string; // For sizing and colors
  animated?: boolean; // Whether to play the animation
  variant?: "draw" | "stagger" | "fade" | "fluid" | "stitch" | "wave" | "trace"; // Type of animation
  delay?: number;     // Delay before starting animation
  duration?: number;  // Duration
  repeatOnScroll?: boolean; // Whether to replay animation on viewport entry
}

export function BrandLogo({ 
  className = "w-full h-auto text-primary", 
  animated = false,
  variant = "draw",
  delay = 0,
  duration = 2.5,
  repeatOnScroll = false
}: BrandLogoProps) {

  // The simplified paths for "ROKOMFERI"
  const paths = [
    "M622.484 64.896V67.872H595.028V64.896H604.052V4.704H595.028V1.728H622.484V4.704H613.556V64.896H622.484Z",
    "M567.36 62.688L549.024 36.48H543.168L543.36 64.896H552.288V67.872H525.6V64.896H534.528V4.704H525.6V1.728H554.688C562.432 1.728 568.32 3.264 572.352 6.336C576.384 9.408 578.4 13.504 578.4 18.624C578.4 23.744 576.608 27.904 573.024 31.104C569.568 33.984 565.024 35.616 559.392 36L579.072 62.688C580.096 63.968 582.368 64.768 585.888 65.088V67.968C581.216 67.776 573.824 67.776 563.712 67.968L563.808 64.896H566.496C567.392 64.704 567.84 64.384 567.84 63.936C567.84 63.424 567.68 63.008 567.36 62.688ZM551.52 33.696C563.168 33.696 568.864 28.672 568.608 18.624C568.352 9.344 563.328 4.704 553.536 4.704H543.36L543.168 33.696H551.52Z",
    "M509.161 44.928H512.233L511.177 67.872H455.401V64.896H464.425V4.704H455.401V1.728H509.641L509.833 21.216H506.857C506.409 15.648 504.873 11.584 502.249 9.024C499.625 6.4 495.337 5.024 489.385 4.896L472.969 4.704V32.544H484.681C487.433 32.544 489.481 31.744 490.825 30.144C492.297 28.096 493.033 25.12 493.033 21.216H496.009V47.808H493.033C493.033 44.032 492.233 41.088 490.633 38.976C489.097 36.864 487.113 35.808 484.681 35.808H472.969V64.896L490.921 64.608C492.713 64.608 494.857 64.128 497.353 63.168C499.913 62.208 501.801 61.12 503.017 59.904C506.857 56.32 508.905 51.328 509.161 44.928Z",
    "M442.106 1.728L442.298 21.216H439.322C438.874 15.648 437.338 11.584 434.714 9.024C432.154 6.4 427.866 5.024 421.85 4.896L405.434 4.704V32.544H417.146C419.962 32.544 421.978 31.744 423.194 30.144C424.666 28.096 425.402 25.12 425.402 21.216H428.474V47.808H425.402C425.402 44.032 424.634 41.088 423.098 38.976C421.562 36.864 419.578 35.808 417.146 35.808H405.434V64.896H414.362V67.872H387.866V64.896H396.89V4.704H387.866V1.728H442.106Z",
    "M372.782 64.896V67.872H346.094V64.896H355.022V8.352L331.79 66.816L330.35 66.912L309.134 8.64V56.64C309.134 59.904 309.934 62.336 311.534 63.936C312.174 64.576 314.349 64.896 318.062 64.896V67.872H296.942V64.896C300.526 64.896 302.638 64.608 303.278 64.032C305.07 62.496 305.966 60.032 305.966 56.64V6.912C305.774 5.44 304.814 4.704 303.086 4.704H297.71V1.728H316.621L334.285 51.648L354.446 1.728H372.782V4.704H363.854V64.896H372.782Z",
    "M273.443 9.6C278.691 15.872 281.315 24.096 281.315 34.272C281.315 44.384 278.563 52.736 273.059 59.328C267.555 65.92 260.675 69.216 252.419 69.216C244.227 69.216 237.187 65.856 231.299 59.136C225.539 52.352 222.723 44 222.851 34.08C222.979 24.096 225.795 15.936 231.299 9.6C236.867 3.2 243.971 0 252.611 0C261.315 0 268.259 3.2 273.443 9.6ZM252.515 65.856C258.467 65.856 262.979 63.008 266.051 57.312C269.123 51.616 270.659 44.064 270.659 34.656C270.659 25.184 269.315 17.76 266.627 12.384C263.427 6.112 258.499 2.976 251.843 2.976C245.251 2.976 240.419 5.952 237.347 11.904C234.787 16.96 233.507 24.512 233.507 34.56C233.507 55.424 239.843 65.856 252.515 65.856Z",
    "M210.142 64.896V67.872H181.726V64.896C186.334 64.896 188.638 64.064 188.638 62.4C188.638 61.44 188.318 60.416 187.678 59.328L171.454 31.68L159.07 45.792V64.896H167.998V67.872H141.406V64.896H150.334V4.704H141.406V1.728H168.19V4.704H159.262V40.224L185.086 11.616C186.302 10.4 186.91 9.312 186.91 8.352C186.91 7.392 186.622 6.528 186.046 5.76C185.534 4.992 183.518 4.64 179.998 4.704V1.728H203.998V4.704C199.838 4.704 196.926 5.248 195.262 6.336C193.662 7.424 191.198 9.856 187.87 13.632L178.27 24.384L198.526 59.52C198.59 59.712 198.75 60.032 199.006 60.48L199.582 61.536C200.542 63.136 201.566 64.128 202.654 64.512C203.23 64.768 205.726 64.896 210.142 64.896Z",
    "M120.5 9.6C125.748 15.872 128.372 24.096 128.372 34.272C128.372 44.384 125.62 52.736 120.116 59.328C114.612 65.92 107.732 69.216 99.4755 69.216C91.2835 69.216 84.2435 65.856 78.3555 59.136C72.5955 52.352 69.7795 44 69.9075 34.08C70.0355 24.096 72.8515 15.936 78.3555 9.6C83.9235 3.2 91.0275 0 99.6675 0C108.372 0 115.316 3.2 120.5 9.6ZM99.5715 65.856C105.524 65.856 110.036 63.008 113.108 57.312C116.18 51.616 117.716 44.064 117.716 34.656C117.716 25.184 116.372 17.76 113.684 12.384C110.484 6.112 105.556 2.976 98.8995 2.976C92.3075 2.976 87.4755 5.952 84.4035 11.904C81.8435 16.96 80.5635 24.512 80.5635 34.56C80.5635 55.424 86.8995 65.856 99.5715 65.856Z",
    "M41.76 62.688L23.424 36.48H17.568L17.76 64.896H26.688V67.872H0V64.896H8.928V4.704H0V1.728H29.088C36.832 1.728 42.72 3.264 46.752 6.336C50.784 9.408 52.8 13.504 52.8 18.624C52.8 23.744 51.008 27.904 47.424 31.104C43.968 33.984 39.424 35.616 33.792 36L53.472 62.688C54.496 63.968 56.768 64.768 60.288 65.088V67.968C55.616 67.776 48.224 67.776 38.112 67.968L38.208 64.896H40.896C41.792 64.704 42.24 64.384 42.24 63.936C42.24 63.424 42.08 63.008 41.76 62.688ZM25.92 33.696C37.568 33.696 43.264 28.672 43.008 18.624C42.752 9.344 37.728 4.704 27.936 4.704H17.76L17.568 33.696H25.92Z"
  ];

  const getVariants = (i: number) => {
    switch (variant) {
      case "fluid":
        return {
           initial: { strokeDasharray: 1000, strokeDashoffset: 1000, fillOpacity: 0, stroke: "#9c846a", strokeWidth: 2 },
           visible: { strokeDashoffset: 0, fillOpacity: 1, stroke: "currentColor", strokeWidth: 0 },
           transition: { 
             strokeDashoffset: { duration: duration * 1.2, ease: [0.22, 1, 0.36, 1], delay: delay + (i * 0.05) },
             fillOpacity: { duration: duration * 0.8, ease: "easeOut", delay: delay + (duration * 0.5) + (i * 0.05) },
             stroke: { duration: duration, delay: delay + (duration * 0.5) },
             strokeWidth: { duration: duration, delay: delay + (duration * 0.5) }
           }
        };
      case "stitch":
        return {
           initial: { strokeDasharray: "4 6", strokeDashoffset: 0, fillOpacity: 0, stroke: "currentColor", strokeWidth: 1, opacity: 0 },
           visible: { strokeDasharray: "0 0", strokeDashoffset: 0, fillOpacity: 1, strokeWidth: 0, opacity: 1 },
           transition: { 
             opacity: { duration: 0.5, delay: delay + (i * 0.05) },
             strokeDasharray: { duration: duration, ease: "easeInOut", delay: delay + (i * 0.05) },
             fillOpacity: { duration: duration * 0.5, delay: delay + (duration * 0.5) + (i * 0.05) },
             strokeWidth: { duration: 0.5, delay: delay + duration }
           }
        };
      case "trace":
        return {
           initial: { strokeDasharray: "0.1 1", strokeDashoffset: 1, fillOpacity: 0, stroke: "#9c846a", strokeWidth: 1.5, pathLength: 1 },
           visible: { strokeDashoffset: 0, fillOpacity: 1, strokeWidth: 0, stroke: "currentColor" },
           transition: { 
             strokeDashoffset: { duration: 3, ease: "easeInOut", repeat: 0, delay: delay + (i * 0.1) },
             fillOpacity: { duration: 1, delay: delay + 1.5 + (i * 0.1) },
             strokeWidth: { duration: 0.5, delay: delay + 2.5 + (i * 0.1) }
           }
        };
      case "wave":
        return {
           initial: { y: 20, opacity: 0, fillOpacity: 0 },
           visible: { y: 0, opacity: 1, fillOpacity: 1 },
           transition: { 
             y: { type: "spring", stiffness: 100, damping: 10, delay: delay + (i * 0.05) },
             opacity: { duration: 0.5, delay: delay + (i * 0.05) },
             fillOpacity: { duration: 0.5, delay: delay + (i * 0.05) }
           }
        };
      case "stagger":
        return {
           initial: { y: 40, opacity: 0, fillOpacity: 0 },
           visible: { y: 0, opacity: 1, fillOpacity: 1 },
           transition: { duration: 1, delay: delay + (i * 0.1), ease: [0.22, 1, 0.36, 1] }
        };
      case "fade":
        return {
           initial: { opacity: 0, fillOpacity: 0 },
           visible: { opacity: 1, fillOpacity: 1 },
           transition: { duration: 1.5, delay: delay }
        };
      case "draw":
      default:
        return {
           initial: { strokeDasharray: 1000, strokeDashoffset: 1000, fillOpacity: 0, stroke: "currentColor", strokeWidth: 1 },
           visible: { strokeDashoffset: 0, fillOpacity: 1, strokeWidth: 0 },
           transition: {
             strokeDashoffset: { duration: duration * 0.7, ease: "easeInOut", delay: delay + (i * 0.1) },
             fillOpacity: { duration: duration * 0.4, delay: delay + (duration * 0.7) + (i * 0.05) },
             strokeWidth: { duration: 0.5, delay: delay + (duration * 0.9) }
           }
        };
    }
  };

  return (
    <motion.svg 
      width="623" 
      height="70" 
      viewBox="0 0 623 70" 
      fill="none" 
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      initial={animated ? "hidden" : "visible"}
      whileInView={animated ? "visible" : undefined}
      animate={animated ? undefined : "visible"}
      viewport={{ once: !repeatOnScroll, margin: "-10%" }}
    >
      {paths.map((d, i) => {
         const { initial, visible, transition } = getVariants(i);
         return (
           <motion.path 
             key={i}
             d={d}
             fill="currentColor"
             initial={initial}
             whileInView={animated ? visible : undefined}
             animate={animated ? undefined : visible}
             transition={transition as any}
           />
         );
      })}
    </motion.svg>
  );
}
